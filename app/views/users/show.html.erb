<div class="bg-steel-200 text-xl bold max-w-screen-sm m-auto text-center mb-8">
  <h1>Profile</h1>
</div>

<div class="max-w-screen-sm m-auto">
    <div class="flex justify-between items-center">
        <div class="flex justify-center items-center gap-4">
            <div class="w-fit">
                <%= render "shared/user_blob", user: @user %>
            </div>
            <div class="">
                <div class="font-semibold text-[#101827]">
                    <%= "#{@user.first_name.capitalize} #{@user.last_name.capitalize}"%>
                </div>
                <div class="text-gray-400 text-sm">
                    Joined on <%= @user.created_at.to_fs(:long_ordinal) %>
                </div>
            </div>
        </div>
        <% if current_user == @user %>
            <%= link_to "Edit profile", edit_user_registration_path, class: "mt-3 inline-flex w-fit justify-center rounded-md bg-indigo-600 hover:bg-indigo-500 px-3 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-gray-300 sm:mt-0 sm:w-auto" %>
        <% elsif current_user.roles.first.name == 'admin' && current_user != @user %>
            <%= link_to "Edit profile", edit_user_path(@user), class: "mt-3 inline-flex w-fit justify-center rounded-md bg-indigo-600 hover:bg-indigo-500 px-3 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-gray-300 sm:mt-0 sm:w-auto" %> 
        <% end %>
    </div>
    <div class="rounded shadow mt-10">
        <div class="text-[#101827] text-lg p-4 font-semibold bg-slate-100">
            Contact info
        </div>
        <div class="flex justify-between items-center bg-white border-b border-slate-50">
            <div class="text-[#101827] p-4 font-medium" >
                First name
            </div>
            <div class="p-4 text-gray-400">
                <%= @user.first_name.capitalize %>
            </div>
        </div>
        <div class="flex justify-between items-center bg-white border-b border-slate-50">
            <div class="text-[#101827] p-4 font-medium" >
                Last name
            </div>
            <div class="p-4 text-gray-400">
                <%= @user.last_name.capitalize %>
            </div>
        </div>
        <div class="flex justify-between items-center bg-white border-b border-slate-50">
            <div class="text-[#101827] p-4 font-medium" >
                Email address
            </div>
            <div class="p-4 text-gray-400">
                <%= @user.email %>
            </div>
        </div>
        <div class="flex justify-between items-center bg-white">
            <div class="text-[#101827] p-4 font-medium" >
                Role
            </div>
            <div class="p-4 text-gray-400 capitalize">
                <%= @user.roles.pluck(:name).join(', ') %>
            </div>
        </div>
    </div>

    <div class="rounded shadow mt-10">
        <div class="text-[#101827] text-lg p-4 bg-slate-100 font-semibold">
            User activity
        </div>
        <div class="flex justify-between items-center bg-white border-b border-slate-50">
            <div class="text-[#101827] p-4 font-medium" >
                Joined on
            </div>
            <div class="p-4 text-gray-400">
                <%= @user.created_at.to_fs(:long_ordinal) %>
            </div>
        </div>
        <div class="flex justify-between items-center bg-white">
            <div class="text-[#101827] p-4 font-medium" >
                Last sign in
            </div>
            <div class="p-4 text-gray-400">
                <% if @user.last_sign_in_at? %>
                    <%= @user.last_sign_in_at.to_fs(:long_ordinal) %>
                <% end %>
            </div>
        </div>
    </div>
</div>